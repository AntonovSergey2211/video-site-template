(this["webpackJsonpvideo-site-template"]=this["webpackJsonpvideo-site-template"]||[]).push([[0],{11:function(e,t,r){e.exports=r(19)},16:function(e,t,r){},18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(8),l=r.n(o),i=(r(16),r(2)),c=r(3),s=r(4),u=r(5),f=r(1);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var p=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),v=a.a.createElement("path",{fill:"red",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}),m=function(e){var t=e.svgRef,r=e.title,n=h(e,["svgRef","title"]);return a.a.createElement("svg",d({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,p,v)},b=a.a.forwardRef((function(e,t){return a.a.createElement(m,d({svgRef:t},e))}));r.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var O=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),w=a.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),E=function(e){var t=e.svgRef,r=e.title,n=g(e,["svgRef","title"]);return a.a.createElement("svg",y({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,O,w)},j=a.a.forwardRef((function(e,t){return a.a.createElement(E,y({svgRef:t},e))}));r.p;function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var C=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),S=a.a.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),R=function(e){var t=e.svgRef,r=e.title,n=k(e,["svgRef","title"]);return a.a.createElement("svg",x({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,C,S)},P=a.a.forwardRef((function(e,t){return a.a.createElement(R,x({svgRef:t},e))}));r.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var I=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),V=a.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),B=function(e){var t=e.svgRef,r=e.title,n=z(e,["svgRef","title"]);return a.a.createElement("svg",M({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,I,V)},H=a.a.forwardRef((function(e,t){return a.a.createElement(B,M({svgRef:t},e))})),L=(r.p,{padding:"8pt",width:"24pt",height:"24pt"}),F={light:{backgroundColor:"white",color:"black",fill:"gray"},dark:{backgroundColor:"#444",color:"#ddd",fill:"#bbb"}},N="50px",A="100%",T=r(10),W=function(e){return e&&"object"===typeof e};function D(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return Object.keys(t).forEach((function(r){var n=e[r],a=t[r];Array.isArray(n)&&Array.isArray(a)?e[r]=n.concat.apply(n,Object(T.a)(a)):W(n)&&W(a)?e[r]=D(n,a):e[r]=a})),e}),{})}function J(e,t,r){return{light:D(e,t),dark:D(e,r)}}function K(e){var t=(new Date).getHours();return t>=8&&t<=20?e.light:e.dark}var U=J({header:{position:"fixed",top:"0px",transition:"top 0.2s",height:N,width:A,display:"flex",justifyContent:"space-between",filter:"drop-shadow(0 2pt 2pt rgba(0, 0, 0, 0.2))"},logo:Object(f.a)({},L),button:Object(f.a)({},L),title:{fontSize:"20px",fontFamily:"Oswald",display:"flex",alignItems:"center"},searchContainer:{display:"flex",alignItems:"center",width:"100%"},search:{fontSize:"15px",fontFamily:"Roboto, sans-serif",outline:"none",margin:"10px",width:"100%",border:0,borderBottom:"3px solid darkblue"}},{header:{backgroundColor:F.light.backgroundColor},button:{fill:F.light.fill},title:{color:F.light.color},search:{color:F.light.color}},{header:{backgroundColor:F.dark.backgroundColor},button:{fill:F.dark.fill},title:{color:F.dark.color},search:{color:F.dark.color}}),$=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).onSearchClick=function(){e.setState({showSearch:!0})},e.onSearchClose=function(){e.setState({showSearch:!1})},e.onSearchChange=function(t){e.props.onFilter(t.target.value)},e.state={showSearch:!1},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.props.visible,t=this.state.showSearch,r=K(U);if(t)return a.a.createElement("div",{style:r.header},a.a.createElement("div",{style:r.searchContainer},a.a.createElement("input",{autoFocus:!0,style:r.search,type:"text",placeholder:"Search video",onChange:this.onSearchChange})),a.a.createElement("div",null,a.a.createElement(H,{style:r.button,onClick:this.onSearchClose})));var n=Object(f.a)({},r.header,{top:e?"0px":"-".concat(N)});return a.a.createElement("div",{style:n},a.a.createElement("div",{style:r.title},a.a.createElement(b,{style:r.logo}),a.a.createElement("div",null,a.a.createElement("span",null,"Videos"))),a.a.createElement("div",null,a.a.createElement(j,{style:r.button,onClick:this.onSearchClick}),a.a.createElement(P,{style:r.button})))}}]),r}(n.Component),q=r(6),G=r.n(q),Q=r(9);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Z=a.a.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),_=a.a.createElement("path",{d:"M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-2z"}),ee=function(e){var t=e.svgRef,r=e.title,n=Y(e,["svgRef","title"]);return a.a.createElement("svg",X({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,Z,_)},te=a.a.forwardRef((function(e,t){return a.a.createElement(ee,X({svgRef:t},e))}));r.p;function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ne(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var ae=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),oe=a.a.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),le=function(e){var t=e.svgRef,r=e.title,n=ne(e,["svgRef","title"]);return a.a.createElement("svg",re({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,ae,oe)},ie=a.a.forwardRef((function(e,t){return a.a.createElement(le,re({svgRef:t},e))})),ce=(r.p,J({title:{fontSize:"15px",fontFamily:"Roboto, sans-serif"},video:{margin:0,padding:0,backgroundColor:"black"},footer:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 10px 30px 10px"},footerButtons:{display:"flex",justifyContent:"space-between",alignItems:"center"},button:Object(f.a)({},{padding:"4pt",width:"14pt",height:"14pt"})},{title:{color:F.light.color},button:{fill:F.light.fill}},{title:{color:F.dark.color},button:{fill:F.dark.fill}})),se=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).ref=Object(n.createRef)(),e}return Object(c.a)(r,[{key:"formatCount",value:function(e){return e>1e6?Math.round(e/1e6)+"M":e>1e3?Math.round(e/1e3)+"K":e}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.isPlaying,n=K(ce),o="".concat(window.innerWidth,"px"),l="".concat(Math.ceil(window.innerWidth*(9/16)),"px"),i=this.formatCount(t.likeCount),c=null;if(r){var s={display:r?"block":"none",width:o,height:l},u=Object(f.a)({},n.video,{width:o,height:l}),d=t.sources.map((function(e,t){return a.a.createElement("source",{key:t,src:e})}));c=a.a.createElement("div",{style:s},a.a.createElement("video",{style:u,ref:this.ref,autoPlay:!0,loop:!0,muted:!0,playsInline:!0},d))}else{var h=Object(f.a)({},n.video,{display:r?"none":"block",width:o,height:l});c=a.a.createElement("img",{style:h,src:t.thumb,alt:t.subtitle})}return a.a.createElement("div",null,c,a.a.createElement("div",{style:n.footer},a.a.createElement("span",{style:n.title},t.title),a.a.createElement("div",{style:n.footerButtons},a.a.createElement(te,{style:n.button}),a.a.createElement("span",{style:n.title},i),a.a.createElement(ie,{style:n.button}))))}}]),r}(n.Component);r(18);var ue=function(e){var t=K(F),r={borderColor:"".concat(t.fill," transparent transparent transparent")};return a.a.createElement("div",{className:"Preloader"},a.a.createElement("div",{style:r}),a.a.createElement("div",{style:r}),a.a.createElement("div",{style:r}),a.a.createElement("div",{style:r}))},fe={container:{marginTop:N},preloader:{display:"flex",justifyContent:"center",alignItems:"center",height:"70px"}},de=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).lastPosition=0,e.updateCurrentVideoTimer=-1,e.handleScroll=function(){var t=document.body.getBoundingClientRect(),r=t.top+t.height,n=t.top-e.lastPosition;t.top<0&&n<0?e.props.onScroll(!1):n>0&&e.props.onScroll(!0),e.lastPosition=t.top,r<=window.innerHeight+1&&e.loadNextVideos();var a=Array.from(e.ref.current.childNodes).findIndex((function(e){return e.getBoundingClientRect().top>0}));clearTimeout(e.updateCurrentVideoTimer),e.updateCurrentVideoTimer=setTimeout((function(){e.setState({currentVideo:a})}),1e3)},e.ref=Object(n.createRef)(),e.state={isLoading:!1,currentVideo:0,videos:[]},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadNextVideos(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"loadNextVideos",value:function(){var e=Object(Q.a)(G.a.mark((function e(){var t,n;return G.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.filter){e.next=2;break}return e.abrupt("return");case 2:if(!this.state.isLoading){e.next=4;break}return e.abrupt("return");case 4:return this.setState({isLoading:!0}),e.next=7,fetch(this.props.dataSource);case 7:return t=e.sent,e.next=10,t.json();case 10:(n=e.sent).forEach((function(e){e.id=r.getNextId(),e.sortValue=Math.random(),e.likeCount=Math.round(1e7*Math.random()),e.time=Math.round(60*Math.random()*60)})),n.sort((function(e,t){return e.sortValue-t.sortValue})),this.setState((function(e){return{videos:e.videos.concat(n),isLoading:!1}}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"containsFilter",value:function(e,t){var r=e.title,n=e.description;return t=t.toLowerCase(),-1!==r.toLowerCase().indexOf(t)||-1!==n.toLowerCase().indexOf(t)}},{key:"render",value:function(){var e=this,t=this.state,r=t.videos,n=t.currentVideo,o=this.props.filter,l=o?r.filter((function(t){return e.containsFilter(t,o)})):r;o&&(document.body.scrollTop=0);var i=l.map((function(e,t){return a.a.createElement(se,{key:e.id,data:e,isPlaying:n===t})})),c=Object(f.a)({},fe.preloader,{display:o?"none":"block"});return a.a.createElement("div",{ref:this.ref,style:fe.container},i,a.a.createElement("div",{style:c},a.a.createElement(ue,null)))}}],[{key:"getNextId",value:function(){return r.nextId++}}]),r}(n.Component);de.nextId=0;var he=de;!function(){var e=K(F);document.body.style.backgroundColor=e.backgroundColor}();var pe=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(i.a)(this,r),(e=t.call(this)).onScroll=function(t){e.setState({showHeader:t})},e.onFilter=function(t){e.setState({filter:t})},e.state={showHeader:!0,filter:null},e}return Object(c.a)(r,[{key:"render",value:function(){var e=this.state,t=e.showHeader,r=e.filter;return a.a.createElement("div",{className:"App"},a.a.createElement($,{visible:t,onFilter:this.onFilter}),a.a.createElement(he,{dataSource:"data/videos.json",filter:r,onScroll:this.onScroll}))}}]),r}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.00431464.chunk.js.map