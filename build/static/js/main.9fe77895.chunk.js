(this["webpackJsonpvideo-site-template"]=this["webpackJsonpvideo-site-template"]||[]).push([[0],{11:function(e,t,r){e.exports=r(19)},16:function(e,t,r){},18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(9),i=r.n(o),l=(r(16),r(1)),c=r(2),s=r(3),u=r(4),f=r(7);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var v=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),h=a.a.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z"}),g=function(e){var t=e.svgRef,r=e.title,n=p(e,["svgRef","title"]);return a.a.createElement("svg",d({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,v,h)},b=a.a.forwardRef((function(e,t){return a.a.createElement(g,d({svgRef:t},e))}));r.p;function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var O=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),E=a.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),w=function(e){var t=e.svgRef,r=e.title,n=m(e,["svgRef","title"]);return a.a.createElement("svg",y({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,O,E)},j=a.a.forwardRef((function(e,t){return a.a.createElement(w,y({svgRef:t},e))}));r.p;function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var S=a.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),P=a.a.createElement("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 9c-2.67 0-8 1.34-8 4v3h16v-3c0-2.66-5.33-4-8-4z"}),C=function(e){var t=e.svgRef,r=e.title,n=k(e,["svgRef","title"]);return a.a.createElement("svg",x({height:24,viewBox:"0 0 24 24",width:24,ref:t},n),r?a.a.createElement("title",null,r):null,S,P)},R=a.a.forwardRef((function(e,t){return a.a.createElement(C,x({svgRef:t},e))})),I=(r.p,{margin:"8pt",width:"24pt",height:"24pt"}),V={light:{backgroundColor:"white",color:"black",fill:"gray"},dark:{backgroundColor:"#444",color:"#ddd",fill:"#bbb"}},z="50px",M="100%",N=r(10),A=function(e){return e&&"object"===typeof e};function B(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return Object.keys(t).forEach((function(r){var n=e[r],a=t[r];Array.isArray(n)&&Array.isArray(a)?e[r]=n.concat.apply(n,Object(N.a)(a)):A(n)&&A(a)?e[r]=B(n,a):e[r]=a})),e}),{})}function L(e,t,r){return{light:B(e,t),dark:B(e,r)}}function H(e){var t=(new Date).getHours();return t>=8&&t<=20?e.light:e.dark}var W=L({header:{position:"fixed",top:"0px",transition:"top 0.2s",height:z,width:M,display:"flex",justifyContent:"space-between",filter:"drop-shadow(0 2pt 2pt rgba(0, 0, 0, 0.2))"},logo:Object(f.a)({},I,{fill:"red"}),button:Object(f.a)({},I),title:{fontSize:"20px",fontFamily:"Oswald",display:"flex",alignItems:"center"}},{header:{backgroundColor:V.light.backgroundColor},button:{fill:V.light.fill},title:{color:V.light.color}},{header:{backgroundColor:V.dark.backgroundColor},button:{fill:V.dark.fill},title:{color:V.dark.color}});var D=function(e){var t=H(W),r=Object(f.a)({},t.header,{top:e.visible?"0px":"-".concat(z)});return a.a.createElement("div",{style:r},a.a.createElement("div",{style:t.title},a.a.createElement(b,{style:t.logo}),a.a.createElement("div",null,a.a.createElement("span",null,"Videos"))),a.a.createElement("div",null,a.a.createElement(j,{style:t.button}),a.a.createElement(R,{style:t.button})))},J=r(5),F=r.n(J),T=r(6),U=L({video:{width:"100%",height:"auto",margin:"0"},title:{margin:"10px 10px 20px 10px"}},{title:{color:V.light.color}},{title:{color:V.dark.color}}),$=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(l.a)(this,r),(e=t.call(this)).ref=Object(n.createRef)(),e}return Object(c.a)(r,[{key:"updatePlayingState",value:function(){var e=Object(T.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.ref.current){e.next=3;break}return e.abrupt("return");case 3:if(t.isPlaying===this.props.isPlaying){e.next=23;break}if(!this.props.isPlaying){e.next=15;break}return e.prev=5,e.next=8,t.play();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),this.updatePlayingState();case 13:e.next=23;break;case 15:return e.prev=15,e.next=18,t.pause();case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(15),this.updatePlayingState();case 23:case"end":return e.stop()}}),e,this,[[5,10],[15,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.data,r=e.isPlaying,n=H(U);return this.updatePlayingState(),a.a.createElement("div",null,a.a.createElement("video",{style:n.video,ref:this.ref,src:t.src,autoPlay:r,loop:!0,muted:!0,playsInline:!0}),a.a.createElement("div",{style:n.title},t.title))}}]),r}(n.Component);r(18);var q=function(e){var t=H(V),r={borderColor:"".concat(t.fill," transparent transparent transparent")};return a.a.createElement("div",{className:"Preloader"},a.a.createElement("div",{style:r}),a.a.createElement("div",{style:r}),a.a.createElement("div",{style:r}),a.a.createElement("div",{style:r}))},G={container:{marginTop:z},preloader:{display:"flex",justifyContent:"center",alignItems:"center",height:"70px"}},K=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(l.a)(this,r),(e=t.call(this)).lastPosition=0,e.handleScroll=function(){var t=document.body.getBoundingClientRect(),r=t.top+t.height,n=t.top-e.lastPosition;t.top<0&&n<0?e.props.onScroll(!1):n>0&&e.props.onScroll(!0),e.lastPosition=t.top,r<=window.innerHeight+1&&e.loadNextVideos();var a=Array.from(e.ref.current.childNodes).findIndex((function(e){return e.getBoundingClientRect().top>0}));e.setState({currentVideo:a})},e.ref=Object(n.createRef)(),e.state={isLoading:!1,currentVideo:0,videos:[]},e}return Object(c.a)(r,[{key:"componentDidMount",value:function(){this.loadNextVideos(),window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"loadNextVideos",value:function(){var e=Object(T.a)(F.a.mark((function e(){var t,n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isLoading){e.next=2;break}return e.abrupt("return");case 2:return this.setState({isLoading:!0}),e.next=5,fetch(this.props.dataSource);case 5:return t=e.sent,e.next=8,t.json();case 8:(n=e.sent).forEach((function(e){e.id=r.getNextId(),e.sortValue=Math.random()})),n.sort((function(e,t){return e.sortValue-t.sortValue})),this.setState((function(e){return{videos:e.videos.concat(n),isLoading:!1}}));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.videos,r=e.currentVideo,n=t.map((function(e,t){return a.a.createElement($,{key:e.id,data:e,isPlaying:r===t})}));return a.a.createElement("div",{ref:this.ref,style:G.container},n,a.a.createElement("div",{style:G.preloader},a.a.createElement(q,null)))}}],[{key:"getNextId",value:function(){return r.nextId++}}]),r}(n.Component);K.nextId=0;var Q=K;!function(){var e=H(V);document.body.style.backgroundColor=e.backgroundColor}();var X=function(e){Object(u.a)(r,e);var t=Object(s.a)(r);function r(){var e;return Object(l.a)(this,r),(e=t.call(this)).onScroll=function(t){e.setState({headerIsVisible:t})},e.state={headerIsVisible:!0},e}return Object(c.a)(r,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(D,{visible:this.state.headerIsVisible}),a.a.createElement(Q,{dataSource:"data/videos.json",onScroll:this.onScroll}))}}]),r}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(X,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.9fe77895.chunk.js.map